$notification-hub_font-size: 10px

+keyframes(attention-seek)
  0%
    +transform(rotate(0deg))
  10%
    +transform(rotate(0deg))
  20%
    +transform(rotate(0deg))
  30%
    +transform(rotate(0deg))
  40%
    +transform(rotate(0deg))
  50%
    +transform(rotate(10deg))
  60%
    +transform(rotate(0deg))
  70%
    +transform(rotate(-10deg))
  80%
    +transform(rotate(0deg))
  90%
    +transform(rotate(0deg))
  100%
    +transform(rotate(0deg))

#notification-hub
  > a
    div
      display: inline-block

  .count
    background: $ci_darkorange
    padding: 2px 5px
    color: white
    border: 1px solid lighten($ci_blue, 50%)

  &.has_unread > a div
    @extend .icon-bell

  &.has_new > a div
    +animation(attention-seek 2.0s linear infinite)
    +transform-origin(center top)

  .dropdown-menu
    padding: 0

  .global-action
    text-align: center

    &:hover a
      background: $ci_lightgray
      color: $ci_darkorange

    &:first-child
      box-shadow: rgba(10, 0, 0, 0.2) 0 1px 3px 0px
      border-bottom: 1px solid $global_border-color

    &:last-child
      box-shadow: rgba(10, 0, 0, 0.2) 0 -1px 3px 0px
      border-top: 1px solid $global_border-color

[role=banner]
  ul.notifications
    width: 350px
    min-height: 150px
    max-height: 350px
    overflow-y: auto
    padding: 5px 0
    font-size: $notification-hub_font-size

    li
      position: relative
      border-bottom: 1px solid $ci_lightgray
      min-height: initial

      &:last-child
        padding-bottom: 0
        border-bottom: none

      &:hover
        a
          background: $ci_darkwhite

        > a
          color: $ci_blue

      &.all-done
        padding: 0 0 1em
        margin-top: 1em
        color: $ci_gray
        font-size: $ci_bigger-font
        text-align: center

        &:hover
          .smily div
            +animation(jump 0.5s infinite alternate)

    a
      padding-right: 30px
      white-space: normal

      &:before
        float: left
        font-size: 25px

      &.icon-comment
        @extend .icon-no_comment

        &:before
          margin-top: -5px

    .subject,
    .blurb
      padding-left: $small_size + 10px

    .actions
      position: absolute
      top: 50%
      right: 5px
      padding: 0
      margin-top: -8px

      a
        display: block
        width: 15px
        overflow: hidden
        padding: 0
        white-space: nowrap
        color: $ci_grey

        &:before
          font-size: 15px

        &:hover
          color: $ci_darkorange
          background: none

#notifications-spinner
  @include z-index(1000, absolute)
  top:  50%
  left: 50%
  color: $ci_text-color
