// Place all the styles related to the Plans controller here.
// They will automatically be included in application.css.
$cell_width: 3.3em;
$cell_border: $grayDark;

// TODO: Why is this a mixin if it doesn't take any parameters?
// @extend %pibble-outer?
@mixin pibble-outer {
    border-radius: 8px 3px 3px 8px;
    padding: 2px;
    @include box-shadow($gray 1px 1px 6px);
    float: left;
    clear: left;
    margin: 0.6em;
}

// TODO: Why is this a mixin if it doesn't take any parameters?
// @extend %pibble-inner?
@mixin pibble-inner {
    border: none;
    background-color: $white;
    border-radius: 2px;
    @include box-shadow($grayLight 1px 1px 2px 1px inset);
    padding: 1px 6px;
    margin-left: 1em;
    display: block; /* do not break if too long */
    text-transform: none; /* instead of uppercase */
    border-radius: 2px;    
}

span.pibble.shortcut {
    @include pibble-outer();
    span {
        @include pibble-inner();
    }
}

.pager {
    margin-bottom: 0; /* override bootstrap */
}

$table_padding: 3px;
$table_inner_border: 1px; /* hardcoded in bootstrap */

#calendar-navigation {
    ul {
        margin-left: 0;
    }
}

table#calendar {
    // TODO: remove this by adding the page links to the table heading;
    position: relative;
    top: -25px;
    z-index: 1;
    // end todo
    caption {
        margin-bottom: 1.5em;
        font-size: 22px;
        font-weight: normal;
    }
    tbody td {
        padding: $table_padding;
        cursor: pointer;
        &.hours, &.wwt_diff {
            cursor: auto;
        }
    }
    tbody td.focus {
        @include box-shadow($grayLight 1px 1px 4px 1px inset);
    
        border-radius: 3px;
    }
    ul {
        list-style: none;
        padding: 0;
        margin: 0;
        li {
            @include pibble-outer();
            margin: 6px;
            abbr, span {
                @include pibble-inner();
                white-space: nowrap;
                text-overflow: ellipsis;
            }
            &.early {
                margin-left: 0;
                padding-left: 0;
                position: relative;
                left: -($table_padding + $table_inner_border);
                @include border-left-radius(0px);
                abbr, span {
                    margin-left: 0;
                    @include border-left-radius(0px);
                }
            }
            &.late {
                margin-right: 0;
                float: right;
                clear: right;
                position: relative;
                right: -$table_padding;
                padding-right: 0;
                @include border-right-radius(0px);
                abbr, span {
                    margin-right: 0;
                    @include border-right-radius(0px);
                }
            }
            &.focus {
              color: red; /* TODO sch√∏n machen */
            }

            ul.comments { /* we will use this as a popover */
              display: none;
            }
        }
    }
}

div.scroller {
    width: 100%;
    overflow: auto;
}


#legend {
    dl {
        di {
            display: block;
            dt.shortcut {
                @include pibble-outer();
                span {
                    @include pibble-inner();
                }
            }
            dd {
                padding: 2px;
                margin: 0.6em;
                float: left;
            }
        }
    }
}

ul.nav {
    li {
        span {
            color: $white;
        }
    }
}
